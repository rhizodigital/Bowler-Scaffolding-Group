---
import { SITE } from "src/site.config";
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import { Icon } from "astro-icon/components";
interface Props {
  article: CollectionEntry<"news">;
}

const { article } = Astro.props;

const dateOptions: Intl.DateTimeFormatOptions = {
  month: "long",
  year: "numeric",
  day: "numeric",
};
---

<article
  class="bg-white rounded-3xl overflow-hidden relative hover:shadow-xl lg:hover:-translate-y-2 transiton-all"
  transition:name=`${article.id}-article`
>
  <a href={`/${SITE.news.base}/${article.id}/`} class="block group">
    <Image
      src={article.data.coverImage}
      alt={article.data.title}
      width={700}
      class="w-full mb-3 aspect-video object-cover rounded-3xl"
      transition:name=`${article.id}-featured`
    />
    <div
      class="w-12 h-12 absolute top-2 right-2 flex items-center justify-center rounded-full backdrop-blur-lg"
    >
      <div
        class="group-hover:bg-white flex items-center justify-center rounded-full w-8 h-8 transition-all"
      >
        <Icon
          name="material-symbols:arrow-outward-rounded"
          size={24}
          class="group-hover:text-zinc-800 shrink-0 grow-0 flex text-white transition-all"
        />
      </div>
    </div>
    <div class="p-6">
      <div class="mb-3">
        <h2
          class="text-3xl font-semibold"
          transition:name=`${article.id}-heading`
        >
          {article.data.title}
        </h2>
      </div>

      <time datetime={article.data.publishDate.toISOString()} class="text-sm">
        {article.data.publishDate.toLocaleDateString("en-GB", dateOptions)}
      </time>
    </div>
  </a>
</article>
