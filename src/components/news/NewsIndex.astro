---
import { ClientRouter } from "astro:transitions";
import type { Page } from "astro";
import type { NewsEntry } from "@env";
import Layout from "@layouts/Layout.astro";
import NewsPreview from "@components/news/NewsPreview.astro";
import Pagination from "@components/Pagination.astro";
import NewsGrid from "@components/news/NewsGrid.astro";
import NewsHeader from "@components/news/NewsHeader.astro";
import Container from "@components/Container.astro";

export interface Props {
  page: Page<NewsEntry>;
  indexPage: string;
}

const { page, indexPage } = Astro.props;
---

<Layout
  title="News and Insights"
  description="News & Insights from Milton Keynes Scaffolding Specialists LTD"
>
  <ClientRouter slot="head" />
  <NewsHeader heading="News & Insights" />
  <div class="bg-zinc-100">
    <Container>
      <div class="py-24">
        <NewsGrid>
          {page.data.map((entry) => <NewsPreview article={entry} />)}
        </NewsGrid>
        <Pagination page={page} indexPage={indexPage} />
      </div>
    </Container>
  </div>
</Layout>
